<?xml version="1.0" encoding="UTF-8"?>

<!-- $Id$ -->

<server>
  <mbean
     code="org.jboss.cache.TreeCache"
     name="jboss.cache:service=TreeCache">

    <depends>jboss:service=Naming</depends>
    <depends>jboss:service=TransactionManager</depends>

    <attribute name="TransactionManagerLookupClass">org.jboss.cache.JBossTransactionManagerLookup</attribute>

    <attribute name="LockingLevel">READ_COMMITTED</attribute>

    <attribute name="CacheMode">REPL_ASYNC</attribute>

    <attribute name="ClusterName">MoriaCluster</attribute>

    <attribute name="ClusterConfig">
      <config>
        <UDP
           mcast_addr="228.75.12.3"
           mcast_port="35966"
           ip_ttl="64"
	   ip_mcast="true"
           mcast_send_buf_size="150000"
           mcast_recv_buf_size="80000"
           ucast_send_buf_size="150000"
           ucast_recv_buf_size="80000"
           loopback="false"/>

        <PING
           timeout="2000"
           num_initial_members="3"
           up_thread="false"
           down_thread="false"/>

        <MERGE2
           min_interval="10000"
           max_interval="20000"/>

        <FD
           shun="true"
           up_thread="true"
           down_thread="true"/>

        <VERIFY_SUSPECT
           timeout="1500"
           up_thread="false"
           down_thread="false"/>

        <pbcast.NAKACK
           gc_lag="50"
           retransmit_timeout="600,1200,2400,4800"
           up_thread="false"
           down_thread="false"/>

        <pbcast.STABLE
           desired_avg_gossip="20000"
           up_thread="false"
           down_thread="false"/>

        <UNICAST
           timeout="600,1200,2400"
           window_size="100"
           min_threshold="10"
           down_thread="false"/>

        <FRAG
           frag_size="8192"
           down_thread="false"
           up_thread="false"/>

        <pbcast.GMS
           join_timeout="5000"
           join_retry_timeout="2000"
           shun="true"
           print_local_addr="true"/>

        <pbcast.STATE_TRANSFER
           up_thread="false"
           down_thread="false"/>
      </config>
    </attribute>

    <attribute name="MaxCapacity">20000</attribute>

    <attribute name="InitialStateRetrievalTimeout">20000</attribute>

    <attribute name="SyncReplTimeout">10000</attribute>

    <attribute name="LockAcquisitionTimeout">15000</attribute>

    <attribute name="LockLeaseTimeout">60000</attribute>

    <attribute name="EvictionPolicyClass"></attribute>
  </mbean>
</server>
